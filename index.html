<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>

    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='http://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!--<script src="http://Learning-Fuze.github.io/calculator/calculator.js"></script>-->
    <script>

        $(document).ready(function () {
            var input_array=[''];
            var input_index=0;

            $('button').on('click', function () {
                var val = $(this).text();
            })
                apply_click_handlers();

                function apply_click_handlers(){
                    $('.number').click(input_number);
                    $('.operator').click(input_operator);
                    $('#equal_button').click(calculate);
                    $('.clear').click(clear);
                }

                function input_number(){
                    console.log( $(this).text());
                    input_array[input_index] += $(this).text();
                    $("#output").empty();
                    $("#output").append(input_array);

                    console.log(input_array);
                }

                function input_operator(){
                    //do I have enough to do math?
                    //as long as do math returns it to the original state
                    if (input_array.length===3){
                        calculate();
                    }

                    input_index++;
                    input_array[input_index] = $(this).text();
                    console.log(input_array);
                    input_index++;
                    input_array[input_index] = '';
                }

                function calculate(){
                    var operator=input_array[1];
                    var num1=parseFloat(input_array[0]);
                    var num2=parseFloat(input_array[2]);
                    var total=0;

                   switch (operator){
                       case "+":
                           total=num1+num2;
                           input_array=[''];
                           input_array[0]=total;
                           $("#output").empty();
                           $("#output").append(total);
                            input_index=0;
                            console.log(total);
                           break;
                       case "-":
                           total=num1-num2;
                           input_array=[''];
                           input_array[0]=total;
                           $("#output").empty();
                           $("#output").append(total);
                           input_index=0;
                           console.log(total);
                           break;
                       case "x":
                           total=num1*num2;
                           input_array=[''];
                           input_array[0]=total;
                           $("#output").empty();
                           $("#output").append(total);
                           input_index=0;
                           console.log(total);
                           break;
                       case "/":
                           total=num1/num2;
                           input_array=[''];
                           input_array[0]=total;
                           $("#output").empty();
                           $("#output").append(total);
                           input_index=0;
                           console.log(total);
                           break;
                        default:
                           total=0;
                   }
                }

                function clear() {
                   $("#output").empty();
                    input_array=[''];
                    input_index=0;
                }
        });


    </script>

</head>

<body>

<header>

    <h1>Calculator</h1>

</header>

<div class="calculator">

    <div id ="output"></div>
    <div id = "main">

        <div class ="rows">
            <button class =" clear" id ="clear">C</button>
            <button class =" clear" id ="CE">CE</button>
            <button class ="button-style operator"  value ="/">/</button>
        </div>

        <div class="rows">
            <button class ="button-style number"   value="7">7</button>
            <button class ="button-style number" value="8">8</button>
            <button class ="button-style number"  value ="9">9</button>
            <button class ="button-style operator"  value ="x">x</button>
        </div>

        <div class ="rows">
            <button class ="button-style number"   value="4">4</button>
            <button class ="button-style number" value="5">5</button>
            <button class ="button-style number"  value ="6">6</button>
            <button class ="button-style operator"  value ="-">-</button>
        </div>

        <div class ="rows">
            <button class ="button-style number"   value="1">1</button >
            <button class ="button-style number" value="2">2</button>
            <button class ="button-style number"  value ="3">3</button>
            <button class ="button-style operator"  value ="+">+</button>
        </div>

        <div class ="rows">
            <button class ="button-style number" id="zero" value="0">0</button >
            <button class ="button-style number" value=".">.</button>
            <button class ="button-style" id="equal_button" value ="=">=</button>

        </div>

    </div>

</div>

</body>
</html>