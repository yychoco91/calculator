<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>

    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='http://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!--<script src="http://Learning-Fuze.github.io/calculator/calculator.js"></script>-->
    <script>

        $(document).ready(function () {
            var input_array=[''];
            var input_index=0;

            $('button').on('click', function () {
                var val = $(this).text();
            })
                apply_click_handlers();

                function apply_click_handlers(){
                    $('.number').click(input_number);
                    $('.operator').click(input_operator);
                    $('#equal_button').click(calculate);
                    $('.clear').click(clear);
                }

                function input_number(){
                    console.log( $(this).text());
                    input_array[input_index] += $(this).text();
                    $("#output").empty();
                    $("#output").append(input_array);

                    console.log(input_array);
                }

                function input_operator(){
                    //do I have enough to do math?
                    //as long as do math returns it to the original state
                    if (input_array.length===3){
                        calculate();
                    }
                    input_index++;
                    input_array[input_index] = $(this).text();
                    console.log(input_array);
                    input_index++;
                    input_array[input_index] = '';
                }

                function calculate(){
                    //LFZ START
                    var operator=input_array[1];         //select the operator in input_array at index 1, store it in variable operator
                    var num1=parseFloat(input_array[0]); //Parses the number for input array at index 0 and stores it in variable num1
                    var num2=parseFloat(input_array[2]); //Parses the number for input array at index 2 and stores it in variable num2
                    var total=0;                         //create variable total and set to 0

                   switch (operator){                   //begin switch loop if operator is equal to true
                       case "+":                        // test to see if the operator is equal to '+'
                           total=num1+num2;             // store the sum of num1+ num2 into total
                           input_array=[''];            //set input array to empty string
                           input_array[0]=total;        //set first index of input array to total
                           $("#output").empty();        //clear display
                           $("#output").append(total);  //append the value of total to the display
                            input_index=0;              //set input index to 0
                            console.log(total);         //console log total to make sure the sum is displaying
                           break;                       //break out of the case
                       case "-":                        //test to see if the operator is equal to '-'
                           total=num1-num2;             // store the difference of num1-num2 into total
                           input_array=[''];            //set input array to empty string
                           input_array[0]=total;        //set first index of input array to total
                           $("#output").empty();        //clear display
                           $("#output").append(total);  //append the value of total to the display
                           input_index=0;               //set input index to 0
                           console.log(total);          //console log total to make sure the difference is displaying
                           break;                       //break out of the case
                       case "x":                        // test to see if the operator is equal to 'x'
                           total=num1*num2;             // store the product of num1* num2 into total
                           input_array=[''];            //set input array to empty string
                           input_array[0]=total;        //set first index of input array to total
                           $("#output").empty();        //clear display
                           $("#output").append(total);  //append the value of total to the display
                           input_index=0;               //set input index to 0
                           console.log(total);          //console log total to make sure the product is displaying
                           break;                       //break out of the case
                       case "/":                        // test to see if the operator is equal to '/'
                           total=num1/num2;             //store the quotient of num1/num2 into total
                           input_array=[''];            //set input array to empty string
                           input_array[0]=total;        //set first index of input array to total
                           $("#output").empty();        //clear display
                           $("#output").append(total);  //append the value of total to the display
                           input_index=0;               //set input index to 0
                           console.log(total);          //console log total to make sure the quotient is displaying
                           break;                       //break out of the case
                        default:                        //set default case if there are no operators
                           total=0;                     //total is set to 0 in default
                   }
                   //LFZ END
                }

                function clear() {
                   $("#output").empty();
                    input_array=[''];
                    input_index=0;
                }
        });


    </script>

</head>

<body>

<header>

    <h1>Calculator</h1>

</header>

<div class="calculator">

    <div id ="output"></div>
    <div id = "main">

        <div class ="rows">
            <button class =" clear" id ="clear">C</button>
            <button class =" clear" id ="CE">CE</button>
            <button class ="button-style operator"  value ="/">/</button>
        </div>

        <div class="rows">
            <button class ="button-style number"   value="7">7</button>
            <button class ="button-style number" value="8">8</button>
            <button class ="button-style number"  value ="9">9</button>
            <button class ="button-style operator"  value ="x">x</button>
        </div>

        <div class ="rows">
            <button class ="button-style number"   value="4">4</button>
            <button class ="button-style number" value="5">5</button>
            <button class ="button-style number"  value ="6">6</button>
            <button class ="button-style operator"  value ="-">-</button>
        </div>

        <div class ="rows">
            <button class ="button-style number"   value="1">1</button >
            <button class ="button-style number" value="2">2</button>
            <button class ="button-style number"  value ="3">3</button>
            <button class ="button-style operator"  value ="+">+</button>
        </div>

        <div class ="rows">
            <button class ="button-style number" id="zero" value="0">0</button >
            <button class ="button-style number" value=".">.</button>
            <button class ="button-style" id="equal_button" value ="=">=</button>

        </div>

    </div>

</div>

</body>
</html>